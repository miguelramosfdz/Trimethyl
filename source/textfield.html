<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='UIFactory-TextField'>/**
</span> * @class  UIFactory.TextField
 * @author  Flavio De Stefano &lt;flavio.destefano@caffeinalab.com&gt;
 *
 * ## Creation properties
 *
 * #### `textType`
 *
 * Can be
 *
 * * `email`
 * * `password`
 * * `passwordEye`
 *
 * to adjust the keyboard or the mask automatically.
 *
 * ## Android Fixes
 *
 * * Removed the annoying autofocus on Android.
 *
 */

module.exports = function(args) {
	args = args || {};

	switch (args.textType) {
		case &#39;email&#39;: args.keyboardType = Ti.UI.KEYBOARD_EMAIL; break;
		case &#39;password&#39;: args.passwordMask = true; break;
		case &#39;passwordEye&#39;: args.passwordMask = true; break;
	}

	var $this = Ti.UI.createTextField(args);


	// PasswordEye
	// ===============================

	if (OS_IOS &amp;&amp; args.textType === &#39;passwordEye&#39;) {
		var eyeButton = Ti.UI.createButton({
			image: &#39;/images/T/eye.png&#39;,
			height: 40, width: 40,
			opacity: 0.2,
			active: false,
			tintColor: $this.color
		});
		$this.setRightButton(eyeButton);
		$this.setRightButtonPadding(0);
		$this.setRightButtonMode(Ti.UI.INPUT_BUTTONMODE_ALWAYS);

		eyeButton.addEventListener(&#39;click&#39;, function(){
			eyeButton.active = !eyeButton.active;
			eyeButton.opacity = eyeButton.active ? 1 : 0.2;
			$this.setPasswordMask(!eyeButton.active);
		});
	}


	// ==================================
	// PARSE ARGUMENTS AND INITIALIZATION
	// ==================================

	// Remove autofocus

	if (OS_ANDROID) {
		$this.setSoftKeyboardOnFocus(Ti.UI.Android.SOFT_KEYBOARD_HIDE_ON_FOCUS);
		$this.addEventListener(&#39;touchstart&#39;,  function() {
			$this.setSoftKeyboardOnFocus(Ti.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS);
		});
	}

	return $this;
};</pre>
</body>
</html>
